{"ast":null,"code":"import _defineProperty from\"/Users/cdiaz/Projects_and_code/ld-demo-chris/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/cdiaz/Projects_and_code/ld-demo-chris/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/cdiaz/Projects_and_code/ld-demo-chris/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cdiaz/Projects_and_code/ld-demo-chris/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/cdiaz/Projects_and_code/ld-demo-chris/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import toast from\"react-hot-toast\";import{useLDClient}from\"launchdarkly-react-client-sdk\";import Toasts from\"./toaster\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var LDClient=useLDClient();var _useState=useState({username:\"\"}),_useState2=_slicedToArray(_useState,2),userState=_useState2[0],setUserState=_useState2[1];var user={key:userState.username};var submitUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return LDClient.identify(user);case 3:_context.next=5;return console.log(LDClient.getUser());case 5:toast.success(\"Your LaunchDarkly user is \"+userState.username);Array.from(document.querySelectorAll(\"input\")).forEach(function(input){return input.value=\"\";});case 7:case\"end\":return _context.stop();}}},_callee);}));return function submitUser(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setUserState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},id,value));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(Toasts,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-ldgray w-full p-4 my-8 px-7 lg:px-14 shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pb-4\",children:\"Submit a User Below\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-white overflow-hidden px-2 py-1 justify-between\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"text-base text-gray-400 flex-grow outline-none px-2 \",type:\"input\",id:\"username\",placeholder:\"Enter Username\",value:userState.username,onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center px-2 space-x-4 mx-auto submission\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-ldblue text-white text-base px-4 py-2 \",onClick:submitUser.bind(userState),children:\"Submit\"})})]})})]})]});}","map":{"version":3,"sources":["/Users/cdiaz/Projects_and_code/ld-demo-chris/src/components/login.js"],"names":["React","useState","toast","useLDClient","Toasts","Login","LDClient","username","userState","setUserState","user","key","submitUser","e","preventDefault","identify","console","log","getUser","success","Array","from","document","querySelectorAll","forEach","input","value","handleChange","target","id","prevState","bind"],"mappings":"8oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,OAASC,WAAT,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,C,wFAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC9B,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CAEA,cAAkCF,QAAQ,CAAC,CACzCM,QAAQ,CAAE,EAD+B,CAAD,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAIA,GAAMC,CAAAA,IAAI,CAAG,CACXC,GAAG,CAAEH,SAAS,CAACD,QADJ,CAAb,CAIA,GAAMK,CAAAA,UAAU,0FAAG,iBAAOC,CAAP,kHACjBA,CAAC,CAACC,cAAF,GADiB,sBAEXR,CAAAA,QAAQ,CAACS,QAAT,CAAkBL,IAAlB,CAFW,8BAGXM,CAAAA,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACY,OAAT,EAAZ,CAHW,QAIjBhB,KAAK,CAACiB,OAAN,CAAc,6BAA+BX,SAAS,CAACD,QAAvD,EACAa,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAX,EAA+CC,OAA/C,CACE,SAACC,KAAD,QAAYA,CAAAA,KAAK,CAACC,KAAN,CAAc,EAA1B,EADF,EALiB,sDAAH,kBAAVd,CAAAA,UAAU,4CAAhB,CAUA,GAAMe,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACd,CAAD,CAAO,CAC1B,cAAsBA,CAAC,CAACe,MAAxB,CAAQC,EAAR,WAAQA,EAAR,CAAYH,KAAZ,WAAYA,KAAZ,CACAjB,YAAY,CAAC,SAACqB,SAAD,wCACRA,SADQ,wBAEVD,EAFU,CAELH,KAFK,IAAD,CAAZ,CAID,CAND,CAQA,mBACE,aAAK,SAAS,CAAC,EAAf,wBACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,qDAAd,wBACE,YAAK,SAAS,CAAC,MAAf,iCADF,cAEE,mCACE,aAAK,SAAS,CAAC,sEAAf,wBACE,cACE,SAAS,CAAC,sDADZ,CAEE,IAAI,CAAC,OAFP,CAGE,EAAE,CAAC,UAHL,CAIE,WAAW,CAAC,gBAJd,CAKE,KAAK,CAAElB,SAAS,CAACD,QALnB,CAME,QAAQ,CAAEoB,YANZ,EADF,cASE,YAAK,SAAS,CAAC,qDAAf,uBACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,2CAFZ,CAGE,OAAO,CAAEf,UAAU,CAACmB,IAAX,CAAgBvB,SAAhB,CAHX,oBADF,EATF,GADF,EAFF,GAFF,GADF,CA6BD","sourcesContent":["import React, { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useLDClient } from \"launchdarkly-react-client-sdk\";\nimport Toasts from \"./toaster\";\n\nexport default function Login() {\n  const LDClient = useLDClient();\n\n  const [userState, setUserState] = useState({\n    username: \"\",\n  });\n\n  const user = {\n    key: userState.username,\n  };\n\n  const submitUser = async (e) => {\n    e.preventDefault();\n    await LDClient.identify(user);\n    await console.log(LDClient.getUser());\n    toast.success(\"Your LaunchDarkly user is \" + userState.username);\n    Array.from(document.querySelectorAll(\"input\")).forEach(\n      (input) => (input.value = \"\")\n    );\n  };\n\n  const handleChange = (e) => {\n    const { id, value } = e.target;\n    setUserState((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n  };\n  \n  return (\n    <div className=\"\">\n      <Toasts />\n      <div className={`bg-ldgray w-full p-4 my-8 px-7 lg:px-14 shadow-2xl`}>\n        <div className=\"pb-4\">Submit a User Below</div>\n        <form>\n          <div className=\"flex items-center bg-white overflow-hidden px-2 py-1 justify-between\">\n            <input\n              className=\"text-base text-gray-400 flex-grow outline-none px-2 \"\n              type=\"input\"\n              id=\"username\"\n              placeholder=\"Enter Username\"\n              value={userState.username}\n              onChange={handleChange}\n            />\n            <div className=\"flex items-center px-2 space-x-4 mx-auto submission\">\n              <button\n                type=\"submit\"\n                className=\"bg-ldblue text-white text-base px-4 py-2 \"\n                onClick={submitUser.bind(userState)}\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}